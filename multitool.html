<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Hub Wiki Page Creator - Multi-Tool</title>
	<link rel="stylesheet" href="./lib/common.css">
	<script src="./lib/common.js" defer></script>
	<script src="./lib/pages/multitool.js" defer></script>
	<script src="./lib/modules/portalglyphs.js" defer></script>
	<script src="./lib/modules/gallery.js" defer></script>
	<script src="./lib/modules/actions.js" defer></script>
	<script src="./lib/modules/albumactions.js" defer></script>
	<script src="./lib/modules/footer.js" defer></script>
	<script src="./lib/misc_logic/creatureDatalists.js" defer></script>
	<script src="./lib/misc_logic/locationLogic.js"></script>
	<script>
		const galleryArray = ['', 'Discovery Menu', 'Price Page', 'Minor Settlement', 'Sentinel Pillar', 'Tool in hand'];

		// 1. param	= id in div and spans in wikicode
		// 2. param	= id in input tags
		function showInput() {
			autoRoyal("type_input", "loc_input");
			textFunction("researchteam", "researchteam_input");
			textFunctionMultiple("release", "version_input");
			textFunctionMultiple("name", "name_input");
			textFunctionMultiple("image", "image_input");
			textFunctionMultiple("system", "system_input");
			textFunction("planet", "planet_input");
			textFunction("moon", "moon_input");
			textFunction("axes", "axes_input");
			textFunction("location", "loc_input");
			textFunctionMultiple("portalglyphs", "portalglyphs_input");
			textFunctionMultiple("type", "type_input");
			textFunctionMultiple("slots", "slots_input");
			floatFunction("cost", "cost_input", "0");
			floatFunction("dmg", "dmg_input", "1");
			floatFunction("scanRange", "scan_input", "1");
			checkBoxFunction("crystals", "crystals_input");
			checkBoxFunction("horns", "horns_input");
			checkBoxFunction("glowtubes", "glowtubes_input");
			textFunctionMultiple("class", "class_input");
			textFunction("discovered", "discovered_input");
			textFunction("discoveredlink", "discoveredlink_input");
			textAreaFunction("appearance", "appearance_input");
			acquirement("loc_input", "planet_input", "moon_input", "axes_input", "sr_input", "srloc_input", "acquirement");
			catalog("civ", "mtCatalog");
			addInfoChapter("researchteam_input", "chapterResearch");
			acquirementGallery("sr_img_input", "sys_img_input", "cab_input", "coords_input", "loc_input", "srloc_input", "sr_input", "moon_input", "acquirementGallery");
			civGalaxy("civ");
			hideDiscoverer('discovered_input', 'discoveredlink_input');
			enPrefix("type_input", "enPrefix");
			researchTeam("researchteam", "civilized");
			glyphRegion("portalglyphs_input", "civ", "region");
			locGalaxy("civ", "locGalaxy");
			addInfoBullet("bulletpoint");
			hideInput("loc_input", "Space Station", "Space Anomaly", "axes_input", "planet_input", "moon_input", "coords_input", "cab_input");
			hideInput("srloc_input", "Space Station", "Space Anomaly", "sr_input");
			docBy("docby", "docby_input", "discovered_input", "discoveredlink_input", "researchteam_input");
			codeFunction("region1", "region");
			document.getElementById("HubNr").innerHTML = regNr("region");
			albumDiscoverer("discovered_input", "discoveredlink_input", "albumDiscoverer");
			MTType("type_input", "albumType");
			textFunction("albumCiv", "civ");
			document.getElementById("albumDesc").innerHTML = document.getElementById("acquirement").innerHTML.replace('Save and reload', 'S/r');
			showSizeDropdown('type_input', 'size_input');
			MTType('size_input', 'type_input', 'type');
			catalogMTType('size_input', 'type_input', 'albumType');
		}

		window.onload = () => {
			pageData.pageType = 'Multi-Tool';
			startUp();

			// researchTeamDropdown("civ", "researchteam_input")
			// autoRefresh();
			// showInput();
		}
	</script>
</head>

<body>
	<div class="container">
		<nav><a href="./" title="Main page">&larr; Return to main page</a></nav>
		<h1 class="title is-3">Hub Wiki Page Creator - Multi-Tool</h1>
		<dialog id="explanation" class="modal-content content">
			<h2 id="explanationHeading" class="title is-4"></h2>
			<div id="explanationContent" class="nms-font"></div>
			<a id="explanationLink" target='_blank' rel='noopener noreferrer'>
				<img id="explanationImg" alt='Explainer Image'>
			</a>
			<form method="dialog">
				<button class="button" autofocus>Close</button>
			</form>
		</dialog>
		<main class="columns is-desktop">
			<div id="input" class="column is-full-mobile">
				<div class="table">
					<div class="tableCell text">
						<label>Current release:</label>
					</div>
					<div class="tableCell data">
						<select id="versionInput" data-dest="release"></select>
					</div>
					<div class="tableCell text">
						<label>Which civ does this multi-tool belong to?</label>
					</div>
					<div class="tableCell data">
						<select id="civInput">
							<option value="GHub">GHub</option>
							<option value="CalHub">CalHub</option>
							<option value="EisHub">EisHub</option>
						</select>
					</div>
					<div class="tableCell text">
						<label for="nameInput">Name of the multi-tool:</label>
						<span class="tooltip" onclick="explanation('Base Name', 
						'Enter exactly as seen in game. Watch out for 0 (zero) and O (o).',
						'./helperimg/base/baseName.jpg'	
						)"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								Enter exactly as seen in game. Watch out for 0 (zero) and O (o).
							</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" data-dest="name" id="nameInput">
					</div>
					<div class="tableCell text">
						<label for="fileInput">Main image name, including file extension:</label>
						<span class="tooltip" onclick="explanation('File Upload', 
						`Any pictures you upload here won't be uploaded to the wiki. This is only to autofill the image name.
						You can upload your pictures to the wiki on <a href='https://nomanssky.fandom.com/Special:Upload' target='_blank' rel='noopener noreferrer'>Special:Upload</a>`
						); uploadShown = true"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								Picture won't be uploaded to the wiki. This is only to autofill the image name.
							</span></span>
					</div>
					<div class="tableCell data" id="imageInput">
						<input type="text" id="fileInput" data-dest="image">
						<input type="file" id="fileUpload" accept="image/*" onchange="image(this)">
					</div>
					<div class="tableCell text">
						<label>Type of the multi-tool:</label>
					</div>
					<div class="tableCell data">
						<select name="Type" id="type_input"
							onchange="appearance('name_input', 'type_input', 'mainColour_input', 'secColour_input', 'appearance_input')">
							<option value="Starter Pistol">Starter Pistol</option>
							<option value="Standard">Standard</option>
							<option value="Experimental">Experimental</option>
							<option value="Alien">Alien</option>
							<option value="Royal">Royal</option>
						</select>
					</div>
					<div class="tableCell text" style="display: none;">
						<label>Inventory size of the multi-tool:</label>
					</div>
					<div class="tableCell data" style="display: none;">
						<select name="Type" id="size_input">
							<option value="Pistol">Pistol (Small)</option>
							<option value="SMG">SMG (Medium)</option>
							<option value="Rifle">Rifle (Large)</option>
						</select>
					</div>
					<div class="tableCell text">
						<label for="systemInput">Name of the system:</label>
					</div>
					<div class="tableCell data">
						<input type="text" data-dest="system" id="systemInput">
					</div>
					<div class="tableCell text">
						<label>Location:</label>
					</div>
					<div class="tableCell data">
						<select name="Location" id="loc_input">
							<option value="Minor Settlement">Minor Settlement</option>
							<option value="Space Station">Space Station</option>
							<option value="Sentinel Pillar">Sentinel Pillar</option>
							<option value="Space Anomaly">Space Anomaly</option>
						</select>
					</div>
					<div class="tableCell text">
						<label for="planetInput">Name of the planet:</label>
						<span class="tooltip"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								Planet Name OR the planet circled by the moon where the base can be found.
							</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" data-dest="planet" id="planetInput">
					</div>
					<div class="tableCell text">
						<label for="moonInput">Name of the moon (if applicable):</label>
						<span class="tooltip"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								If the base is located on a moon. Leave blank if the base is on a planet.</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" data-dest="moon" id="moonInput">
					</div>
					<div class="tableCell text">
						<label for="axesInput">Planetary coords:</label>
						<span class="tooltip" onclick="explanation('Planetary Coordinates', 
						`Found using your analysis visor OR on your ship's dashboard.`,
						'./helperimg/shared/axes.jpg'
						)"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								Found using your analysis visor OR on your ship's dashboard.</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" placeholder="+0.00, -0.00" data-dest="axes" id="axesInput">
					</div>
					<div class="tableCell text">
						<label>Save/reload location type:</label>
					</div>
					<div class="tableCell data">
						<select id="srloc_input" name="SRLoc">
							<option value="Planet">Planet</option>
							<option value="Moon">Moon</option>
							<option value="Space Station">Space Station</option>
							<option value="Space Anomaly">Space Anomaly</option>
						</select>
					</div>
					<div class="tableCell text">
						<label for="sr_input">Save/reload location name (if different):</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Sr" id="sr_input">
					</div>
					<div class="tableCell text">
						<div class="glyphs-label-button">
							<label for="portalglyphsInput">Portalglyphs:</label>
							<button class="button is-small is-danger" type="button" onclick="deleteCharacter()">&larr;
								Delete</button>
						</div>
						<span class="tooltip" onclick="explanation('Portalglyphs', 
							`Found in Photo Mode. Glyphs are specific to each planet.`,
							'./helperimg/shared/glyphs.jpg'
							)"><img src="./lib/help.svg"><span class="tooltiptext nms-font">
								Found in Photo Mode. Glyphs are specific to each planet.</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" id="portalglyphsInput" data-dest-noauto="portalglyphs" maxlength="12">
					</div>
					<div class="tableHeader data">
						<div id="portalglyphButtons"></div>
						<output name="portalglyphs" id="portalglyphsPreview" class="glyph"></output>
					</div>
					<div class="tableCell text">
						<label>Class:</label>
					</div>
					<div class="tableCell data">
						<select id="class_input" name="Class">
							<option value="S">S</option>
							<option value="A">A</option>
							<option value="B">B</option>
							<option value="C">C</option>
						</select>
					</div>
					<div class="tableCell text">
						<label>Add-ons:</label>
					</div>
					<div class="tableCell data">
						<div class="checkboxes">
							<label class="checkbox" for="crystals_input"><input type="checkbox" id="crystals_input"
									value="Yes" data-checkbox-unchecked="" data-dest-checkbox="crystals"><span
									class="checkbox-label">Crystals</span></label>
							<label class="checkbox" for="horns_input"><input type="checkbox" id="horns_input"
									value="Yes" data-checkbox-unchecked="" data-dest-checkbox="horns"><span
									class="checkbox-label">Horns</span></label>
							<label class="checkbox" for="glowtubes_input"><input type="checkbox" id="glowtubes_input"
									value="Yes" data-checkbox-unchecked="" data-dest-checkbox="glowtubes"><span
									class="checkbox-label">Glowtubes</span></label>
						</div>
					</div>
					<div class="tableCell text">
						<label for="slots_input">Slot count:</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Slots" id="slots_input">
					</div>
					<div class="tableCell text">
						<label for="cost_input">Cost:</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Cost" id="cost_input">
					</div>
					<div class="tableCell text">
						<label for="dmg_input">Base Damage Potential:</label>
						<span class="tooltip"><img src="./lib/help.svg"><span class="tooltiptext">
								Base damage. Every tech except for the Scanner and the Mining Beam needs to
								be dismantled.</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" name="Damage" id="dmg_input" placeholder="0.0">
					</div>
					<div class="tableCell text">
						<label for="scan_input">Base Scanner Range:</label>
						<span class="tooltip"><img src="./lib/help.svg"><span class="tooltiptext">
								Base range. Every tech except for the Scanner and the Mining Beam needs to
								be
								dismantled.
							</span></span>
					</div>
					<div class="tableCell data">
						<input type="text" name="Scan" id="scan_input" placeholder="0.0">
					</div>
					<div class="tableHeader text">
						<p>
							Note: These should be from the discovery menu (except coordinates)
						</p>
					</div>
					<div class="tableCell text">
						<label for="sr_img_input">Save/Reload Location</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="SRPlanet" id="sr_img_input">
						<input type="file" id="sr_img_upload" name="SR_Img_Upload" accept="image/*"
							oninput="imgName('sr_img_upload', 'sr_img_input');">
					</div>
					<div class="tableCell text">
						<label for="sys_img_input">System (Cabinet location highlighted)</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="SysImage" id="sys_img_input">
						<input type="file" id="sys_img_upload" name="Sys_Img_Upload" accept="image/*"
							oninput="imgName('sys_img_upload', 'sys_img_input');">
					</div>
					<div class="tableCell text">
						<label for="cab_input">Cabinet Planet/Moon</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Image" id="cab_input">
						<input type="file" id="cab_upload" name="Cab_Upload" accept="image/*"
							oninput="imgName('cab_upload', 'cab_input');">
					</div>
					<div class="tableCell text">
						<label for="coords_input">Coordinates</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Image" id="coords_input">
						<input type="file" id="coords_upload" name="Coords_Upload" accept="image/*"
							oninput="imgName('coords_upload', 'coords_input');">
					</div>
					<div class="tableCell text">
						<label for="discoveredlink_input">Discoverer wiki account:</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Discoveredlink" id="discoveredlink_input">
					</div>
					<div class="tableCell text">
						<label for="discovered_input">Discoverer alias if no wiki:</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="Discovered" id="discovered_input">
					</div>
					<div class="tableCell text">
						<label for="docby_input">Documenter alias if not discoverer:</label>
					</div>
					<div class="tableCell data">
						<input type="text" name="DocBy" id="docby_input">
					</div>
					<div class="tableCell text">
						<label>Do you belong to a chapter?</label>
					</div>
					<div class="tableCell data">
						<select id="researchteam_input" name="Researchteam">
						</select>
					</div>
					<div class="tableHeader text sectionToggle">
						<p>This section builds a predefined appearance sentence, it is not required.</p>
						<button class="button" onclick="toggleSection('appearance', this)">Hide</button>
					</div>
					<div data-section="appearance" class="tableCell text">
						<label>Main Colour:</label>
					</div>
					<div data-section="appearance" class="tableCell data">
						<select name="mainColour" id="mainColour_input">
							<option value=" "></option>
							<option value="blue">Blue</option>
							<option value="chrome">Chrome</option>
							<option value="cream">Cream</option>
							<option value="green">Green</option>
							<option value="grey">Grey</option>
							<option value="orange">Orange</option>
							<option value="pink">Pink</option>
							<option value="purple">Purple</option>
							<option value="red">Red</option>
							<option value="tan">Tan</option>
							<option value="teal">Teal</option>
							<option value="white">White</option>
							<option value="yellow">Yellow</option>
						</select>
					</div>
					<div data-section="appearance" class="tableCell text">
						<label>Secondary Colour:</label>
					</div>
					<div data-section="appearance" class="tableCell data">
						<select name="secColour" id="secColour_input">
							<option value=" "></option>
							<option value="black">Black</option>
							<option value="blue">Blue</option>
							<option value="chrome">Chrome</option>
							<option value="cream">Cream</option>
							<option value="gold">Gold</option>
							<option value="green">Green</option>
							<option value="grey">Grey</option>
							<option value="orange">Orange</option>
							<option value="pink">Pink</option>
							<option value="purple">Purple
							<option value="red">Red</option>
							<option value="silver">Silver</option>
							<option value="tan">Tan</option>
							<option value="teal">Teal</option>
							<option value="white">White</option>
							<option value="yellow">Yellow</option>
						</select>
					</div>
					<div class="tableHeader data no-flex">
						<label for="appearanceInput">Appearance:</label>
						<textarea data-dest="appearance" id="appearanceInput"
							placeholder="What does the starship look like?"></textarea>
					</div>
					<div class="tableCell text">
						<label for="galleryUpload">Gallery files</label>
						<span class="tooltip" onclick="explanation('Gallery', 
						`The preferred order of pictures is as follows:
						<div class='is-flex is-justify-content-center'>
							<ol class='has-text-left'>
								<li>Gender 1</li>
								<li>Gender 2</li>
								<li>Gender 1 scan</li>
								<li>Gender 2 scan</li>
								<li>Discovery Menu</li>
								<li>Planet/Moon DM</li>
								<li>System DM</li>
								<li>Galaxy Map</li>
							</ol>
						</div>`); galleryUploadShown = true">
							<img src="./lib/help.svg"><span class="tooltiptext nms-font">
								There is a preferred order of pictures.</span></span>
					</div>
					<div class="tableCell data">
						<input type="file" multiple accept="image/*" id="galleryUpload" onchange="galleryUpload()">
					</div>
				</div>
				<div id="galleryItems">
				</div>
				<div id="actions" class="buttons"></div>
				<div id="albumActions" class="buttons"></div>
			</div>
			<div id="output" class="column is-full-mobile">
				<div class="wikiText" id="fullArticle">
					<div>{{Version|<output id='release' name="release"></output>}}</div>
					<div>{{<output id='civStub'></output>}}</div>
					<div>{{Multitool infobox</div>
					<div>| name = <output id='name' name="name"></output></div>
					<div>| image = <output id='image' name="image"></output></div>
					<div>| civilized = <output id='civilized'></output></div>
					<div>| galaxy = <output id='galaxy'></output></div>
					<div>| region = <output id='region' name="region"></output></div>
					<div>| system = <output id='system' name="system"></output></div>
					<div>| planet = <output id='planet'></output></div>
					<div>| moon = <output id='moon'></output></div>
					<div>| location = <output id='location'></output></div>
					<div>| axes = <output id='axes'></output></div>
					<div>| coordinates = {{Glyphs2Coords|<output id='portalglyphs1' name="portalglyphs"></output>}}
					</div>
					<div>| portalglyphs = <output id='portalglyphs' name="portalglyphs"></output></div>
					<div>| type = <output id='type' name="type"></output></div>
					<div>| crystals = <output id='crystals'></output></div>
					<div>| horns = <output id='horns'></output></div>
					<div>| glowtubes = <output id='glowtubes'></output></div>
					<div>| class = <output id='class' name="class"></output></div>
					<div>| slots = <output id='slots' name="slots"></output></div>
					<div>| cost = <output id='cost'></output></div>
					<div>| discovered = <output id='discovered'></output></div>
					<div>| discoveredlink = <output id='discoveredlink'></output></div>
					<div>| researchteam = <output id='researchteam'></output></div>
					<div>| release = <output id='release1' name="release"></output></div>
					<div>}}</div>
					<div>'''<output id='name1' name="name"></output>''' is a multi-tool.</div>
					<br>

					<div>==Summary==</div>
					<div>'''<output id='name2' name="name"></output>''' is <output id='enPrefix'></output>
						[[Multi-Tool Catalogue - <output id='type1' name="type"></output>|<output id='type2'
							name="type"></output> Multi-Tool]].</div>
					<br>

					<div>==Appearance==</div>
					<div><output id='appearance'></output></div>
					<br>

					<div>==Location==</div>
					<div>This multi-tool is located in the [[<output id="system1" name="system"></output>]]
						[[star
						system]] in the [[<output id="region1" name="region"></output>]] [[region]]<output
							id='HubNr'></output> of the <output id="locGalaxy"></output>.</div>
					<br>
					<div>{{CoordGlyphConvert|<output id="portalglyphs2" name="portalglyphs"></output>}}</div>
					<br>

					<div>==Stats==</div>
					<div>The {{Class|<output id="class1" name="class"></output>}} class version of this weapon
						has
						the following base stats:</div>
					<div>* '''Damage Potential''': {{subst:#replace:<output id="dmg"></output>|,}}</div>
					<div>* '''Scanner Range''': {{subst:#replace:<output id="scanRange"></output>|,}}</div>
					<br>

					<div>==Acquirement==</div>
					<div><output id="acquirement"></output></div>
					<div>&lt;gallery&gt;</div>
					<div><output id="acquirementGallery"></output></div>
					<div>&lt;/gallery&gt;</div>
					<br>

					<div>==Additional Information==</div>
					<div><span name="bulletpoint"></span> Featured in the [[<output id='mtCatalog'></output>
						Multi-Tool Catalog]]<output id="chapterResearch"></output></div>
					<div><span name="bulletpoint"></span> <output id="docby"></output></div>
					<br>

					<div>==Gallery==</div>
					<div>&lt;gallery&gt;</div>
					<div><output id="galleryCode"></output></div>
					<div>&lt;/gallery&gt;</div>
					<br>

					<div>==Reference Links==</div>
					<div>{{MTRefLinks}}</div>
				</div>
				<div id="albumEntry"></div>
			</div>
		</main>
	</div>
	<footer id="footer" class="footer"></footer>
</body>

</html>